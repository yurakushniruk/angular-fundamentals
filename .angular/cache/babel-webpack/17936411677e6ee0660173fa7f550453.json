{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { TOASTR_TOKEN } from '../common/toastr.service';\nlet ProfileComponent = class ProfileComponent {\n  constructor(authService, router, route, toastr) {\n    this.authService = authService;\n    this.router = router;\n    this.route = route;\n    this.toastr = toastr;\n  }\n\n  ngOnInit() {\n    let curUser = {};\n    this.route.data.forEach(data => {\n      this.event = data['event'];\n      this.addMode = false;\n    });\n    this.firstName = new FormControl(this.authService.currentUser.firstName, [Validators.required, Validators.pattern('^[a-zA-Z].*')]);\n    this.lastName = new FormControl(this.authService.currentUser.lastName, Validators.required);\n    this.profileForm = new FormGroup({\n      firstName: this.firstName,\n      lastName: this.lastName\n    });\n  }\n\n  saveProfile(formValues) {\n    if (this.profileForm.valid) {\n      this.authService.updateCurrentUser(formValues.firstName, formValues.lastName).subscribe(() => {\n        this.toastr.success('Profile Saved');\n      });\n    }\n  }\n\n  validateFirstName() {\n    return this.firstName.valid || this.firstName.untouched;\n  }\n\n  validateLastName() {\n    return this.lastName.valid || this.lastName.untouched;\n  }\n\n  cancel() {\n    this.router.navigate(['events']);\n  }\n\n};\nProfileComponent = __decorate([Component({\n  templateUrl: './profile.component.html',\n  styles: [`\n    em { float:right; color:#E05C65; padding-left:10px; }\n    .error input { background-color:#E3C3C5; }\n    .error ::-webkit-input-placeholder { color:#808080; }\n    .error ::-moz-placeholder { color:#808080; }\n    .error :-moz-placeholder { color:#808080; }\n    .error ::ms-input-placeholder { color:#808080; }\n  `]\n}), __param(3, Inject(TOASTR_TOKEN))], ProfileComponent);\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module"}